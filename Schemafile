# encoding: utf-8

create_table 'organizations', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.string 'phone', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'organization_users', force: :cascade do |t|
  t.references 'user', foreign_key: true
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
  t.index %i[user_id organization_id], unique: true
end

create_table 'restaurants', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'shops', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'hotels', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'activities', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'hot_springs', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'ski_areas', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'photo_spots', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.string 'address', null: false
  t.float 'lat', null: false
  t.float 'lng', null: false
  t.string 'slug', null: false, index: { unique: true }
  t.text 'description', null: false
  t.references 'organization', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'restaurant_categories', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'restaurant_category_mappings', force: :cascade do |t|
  t.references 'restaurant', foreign_key: true
  t.references 'restaurant_category', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
  t.index %i[restaurant_id restaurant_category_id],
          unique: true,
          name: 'index_restaurant_category_mappings_on_id_and_category_id'
end

create_table 'shop_categories', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'shop_category_mappings', force: :cascade do |t|
  t.references 'shop', foreign_key: true
  t.references 'shop_category', foreign_key: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
  t.index %i[shop_id shop_category_id],
          unique: true,
          name: 'index_shop_category_mappings_on_id_and_category_id'
end

create_table 'districts', force: :cascade do |t|
  t.string 'name', null: false, index: { unique: true }
  t.integer 'location', null: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'district_mappings', force: :cascade do |t|
  t.references 'district', foreign_key: true
  t.references 'districtable',
               polymorphic: true,
               index: {
                 name:
                   'index_polymorphic_district_mappings_on_districtable_id_and_type',
               }
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
  t.index %i[districtable_id districtable_type],
          unique: true,
          name: 'index_district_mappings_on_districtable_id_and_type'
end

create_table 'reservation_links', force: :cascade do |t|
  t.references 'reservation_linkable',
               polymorphic: true,
               index: {
                 name:
                   'index_polymorphic_reservation_link_mappings_on_id_and_type',
               }
  t.string 'link'
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'opening_hours', force: :cascade do |t|
  t.references 'opening_hourable',
               polymorphic: true,
               index: {
                 name: 'index_polymorphic_opening_hour_mappings_on_id_and_type',
               }
  t.string 'start_time_hour', null: false
  t.string 'start_time_minute', null: false
  t.string 'end_time_hour', null: false
  t.string 'end_time_minute', null: false
  t.integer 'day', null: false
  t.boolean 'closed', null: false, default: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'bookmarks', force: :cascade do |t|
  t.references 'user', foreign_key: true
  t.references 'bookmarkable', polymorphic: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
  t.index %i[user_id bookmarkable_id bookmarkable_type],
          unique: true,
          name: 'index_bookmarks_on_user_id_and_bookmarkable_id_and_type'
end

create_table 'posts', force: :cascade do |t|
  t.references 'postable', polymorphic: true
  t.string 'title', null: false
  t.text 'body', null: false
  t.integer 'status', null: false
  t.integer 'notice_title', default: 1, null: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'notices', force: :cascade do |t|
  t.references 'user', foreign_key: true
  t.references 'noticeable', polymorphic: true
  t.boolean 'read', null: false, default: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
  t.index %i[user_id noticeable_id noticeable_type],
          unique: true,
          name: 'index_bookmarks_on_user_id_and_noticeable_id_and_type'
end

create_table 'organization_invitations', force: :cascade do |t|
  t.references 'organization', foreign_key: true
  t.integer 'inviter_id', null: false
  t.string 'email', null: false
  t.string 'token', null: false, index: { unique: true }
  t.datetime 'expires_at', precision: 6, null: false
  t.integer 'status', default: 1, null: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'organization_registrations', force: :cascade do |t|
  t.references 'user', foreign_key: true
  t.string 'organization_name', null: false
  t.string 'organization_address', null: false
  t.string 'organization_phone', null: false
  t.text 'business_detail', null: false
  t.string 'token', null: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'organization_registration_statuses', force: :cascade do |t|
  t.references 'organization_registration',
               foreign_key: true,
               index: {
                 name: 'index_org_registration_statuses_on_org_registration_id',
               }
  t.integer 'status', null: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'announcements', force: :cascade do |t|
  t.string 'title', null: false
  t.text 'body', null: false
  t.integer 'status', default: 1, null: false
  t.integer 'poster_id', null: false
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end

create_table 'page_shows', force: :cascade do |t|
  t.references 'page_showable', polymorphic: true
  t.boolean 'reservation_link', null: false, default: true
  t.boolean 'opening_hours', null: false, default: true
  t.datetime 'updated_at', precision: 6, null: false
  t.datetime 'created_at', precision: 6, null: false
end
